%% 註冊流程不計層數；深度限制從入口功能後開始計算
%% L0=角色入口, L1=功能頁, L2=子頁 (深度不超過3層)
flowchart TB
  Register[註冊/登入流程]
  Entry[L0 角色入口/功能列]

  Register --> Entry

  Entry --> CHome[L0 一般消費者 - 入口功能列]
  Entry --> AHome[L0 營運管理員 - 入口功能列]
  Entry --> RHome[L0 巡補員 - 入口功能列]

  %% 一般消費者 (2~3 層內)
  CHome --> CReport[L1 回報問題]
  CHome --> CList[L1 問題清單]

  %% 營運管理員
  AHome --> ARevenueOrders[L1 今日營收/訂單]
  AHome --> AMachineMgmt[L1 機台管理]
  AHome --> AProductsPricing[L1 商品與價格]
  AHome --> AInventoryStrategy[L1 庫存預約設定]

  ARevenueOrders --> AOrderPages[L2 訂單列表/詳情/報表]
  AMachineMgmt --> AMachinePages[L2 列表/詳情/狀態]
  AProductsPricing --> AProductPages[L2 列表/詳情/新增]
  AInventoryStrategy --> AInventoryPages[L2 清單/命名/編輯]

  %% 巡補員
  RHome --> RStartPatrol[L1 開始巡補]
  RHome --> RInventoryCheck[L1 撿貨清單]

  RStartPatrol --> RPatrolFlow[L2 簽到/預約設定/巡補作業]
  RInventoryCheck --> RInventoryFlow[L2 多選/彙總]
